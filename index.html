<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
<title>Mindless Swipe</title>

<!-- AdSenseÔºàËá™ÂàÜ„ÅÆID„Å´Â∑Æ„ÅóÊõø„ÅàÔºâ -->
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>

<style>
  :root {
    --bg:#000;
    --fg:#fff;
    --gold:#ffd700;
    --mint:#00ffcc;
    --red:#ff3b3b;
  }
  html,body{
    margin:0;height:100%;background:radial-gradient(circle at center,#111 0%,#000 70%);
    color:var(--fg);font-family:system-ui, -apple-system, BlinkMacSystemFont, sans-serif;
    overflow:hidden;touch-action:none;
  }
  #app{height:100%;display:flex;flex-direction:column;align-items:center;justify-content:space-between}
  .ad{width:100%;min-height:60px;background:#0c0c0c;display:flex;align-items:center;justify-content:center}
  #hud{width:100%;display:flex;justify-content:space-between;opacity:.6;font-size:12px;padding:8px 12px;box-sizing:border-box}
  #center{flex:1;display:flex;align-items:center;justify-content:center;position:relative;width:100%}
  #num{
    font-size:72px;font-weight:900;letter-spacing:1px;user-select:none;
    transition:transform .08s ease, color .08s ease, filter .08s ease;
  }
  .pulse{transform:scale(1.08);color:var(--mint)}
  .flash{color:var(--gold);filter:drop-shadow(0 0 12px var(--gold))}
  .danger{color:var(--red)}
  #hint{position:absolute;bottom:16px;opacity:.25;font-size:12px}
  .reward{
    position:absolute;font-size:14px;font-weight:700;opacity:0;
    animation:pop .9s ease forwards;pointer-events:none;
  }
  @keyframes pop{
    0%{opacity:0;transform:translateY(10px) scale(.8)}
    30%{opacity:1;transform:translateY(0) scale(1.15)}
    100%{opacity:0;transform:translateY(-24px) scale(1)}
  }
  #decay{
    position:absolute;top:0;left:0;height:4px;width:100%;
    background:linear-gradient(90deg,var(--red),transparent);
    opacity:.0;transition:opacity .2s ease;
  }
  /* TikTokÈå≤ÁîªÂêë„ÅëÔºö‰∏≠Â§Æ„Å†„ÅëÊò†„Åà„Çã */
  @media (min-width:480px){
    #num{font-size:96px}
  }
</style>
</head>
<body>
<div id="app">
  <!-- ‰∏äÂ∫ÉÂëä -->
  <div class="ad">
    <ins class="adsbygoogle" style="display:block;width:100%;height:60px"
      data-ad-client="ca-pub-XXXXXXXXXXXX" data-ad-slot="1111111111"></ins>
  </div>

  <div id="hud">
    <div id="day">DAY 1</div>
    <div id="swipes">0 swipes</div>
  </div>

  <div id="center">
    <div id="decay"></div>
    <div id="num">0</div>
    <div id="hint">swipe.</div>
  </div>

  <!-- ‰∏ãÂ∫ÉÂëä -->
  <div class="ad">
    <ins class="adsbygoogle" style="display:block;width:100%;height:60px"
      data-ad-client="ca-pub-XXXXXXXXXXXX" data-ad-slot="2222222222"></ins>
  </div>
</div>

<script>
/* =======================
   ‰∏≠ÊØí„Ç≥„Ç¢
======================= */
let value = +localStorage.getItem("v") || 0;
let swipes = +localStorage.getItem("s") || 0;
let streak = +localStorage.getItem("k") || 0;
let last = +localStorage.getItem("t") || 0;
let day = +localStorage.getItem("d") || 1;

const num = document.getElementById("num");
const sw = document.getElementById("swipes");
const dy = document.getElementById("day");
const decayBar = document.getElementById("decay");

num.textContent = fmt(value);
sw.textContent = swipes + " swipes";
dy.textContent = "DAY " + day;

let sx=0, sy=0;
document.addEventListener("touchstart",e=>{
  const t=e.touches[0]; sx=t.clientX; sy=t.clientY;
});
document.addEventListener("touchend",e=>{
  const t=e.changedTouches[0];
  if(Math.abs(t.clientX-sx)>18 || Math.abs(t.clientY-sy)>18) inc();
});

/* ÂèØÂ§âÂ†±ÈÖ¨ÔºöÊåáÊï∞Ôºã„Éé„Ç§„Ç∫ */
function inc(){
  const now=Date.now();
  streak = (now-last<1200)? streak+1 : 1;
  last=now;

  swipes++;
  const fib = [1,1,2,3,5,8,13];
  let base = fib[Math.min(6, Math.floor(Math.log2(streak+1)))];
  let bonus = Math.random()<0.08 ? 10 : 0;
  let delta = base + bonus;

  value += delta;

  num.textContent = fmt(value);
  sw.textContent = swipes + " swipes";
  pulse(bonus||streak%25===0);

  checkpoints(value);
  save();
}

function pulse(big){
  num.classList.add("pulse");
  setTimeout(()=>num.classList.remove("pulse"),80);
  if(big){
    num.classList.add("flash");
    reward(big>1?"+10!!":"KEEP GOING");
    vibrate(30);
    setTimeout(()=>num.classList.remove("flash"),160);
  }
}

/* ÁØÄÁõÆ„ÅßÂº∑Âà∂ÊºîÂá∫ÔºàÊíÆ„Çâ„Çå„ÇãÔºâ */
function checkpoints(v){
  if(v===777 || v===999 || v===1000){
    reward("üî• "+v);
    num.classList.add("flash");
    vibrate(60);
    setTimeout(()=>num.classList.remove("flash"),240);
  }
}

/* 10ÁßíÊîæÁΩÆ„ÅßËá™Â£äÔºàÁÑ¶„Çâ„Åõ„ÇãÔºâ */
let decayTimer=setInterval(decay,1000);
function decay(){
  const idle=Date.now()-last;
  if(idle>10000 && value>0){
    decayBar.style.opacity=1;
    value=Math.max(0, value-1);
    num.textContent=fmt(value);
    num.classList.add("danger");
    setTimeout(()=>num.classList.remove("danger"),120);
    save();
  }else{
    decayBar.style.opacity=0;
  }
}

/* ÊºîÂá∫ */
function reward(text){
  const r=document.createElement("div");
  r.className="reward";
  r.textContent=text;
  r.style.left=(20+Math.random()*60)+"%";
  r.style.top="50%";
  document.getElementById("center").appendChild(r);
  setTimeout(()=>r.remove(),900);
}
function vibrate(ms){ if(navigator.vibrate) navigator.vibrate(ms); }
function fmt(n){ return n.toLocaleString(); }

/* Êó•Ë∑®„Åé */
(function(){
  const lastDay=+localStorage.getItem("daystamp")||0;
  const today=new Date().toDateString();
  if(lastDay!==today){
    day++; localStorage.setItem("daystamp",today);
  }
})();

function save(){
  localStorage.setItem("v",value);
  localStorage.setItem("s",swipes);
  localStorage.setItem("k",streak);
  localStorage.setItem("t",last);
  localStorage.setItem("d",day);
}

/* Â∫ÉÂëäÂàùÊúüÂåñ */
(adsbygoogle=window.adsbygoogle||[]).push({});
(adsbygoogle=window.adsbygoogle||[]).push({});
</script>
</body>
</html>
